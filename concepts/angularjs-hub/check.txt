https://www.peterbe.com/plog/promises-with-$http